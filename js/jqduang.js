/*!
* @author : author
* @date   : 2015-04-10
* @name   : jqduang v1.16
* @modify : 2016-05-09 03:34:58
 */
!function($,e){"use strict";function t(e){return"index"==e?this.data("jqDuang").index:this.each(function(){var t=$(this),i=t.data("jqDuang"),n=$.extend({},s.DEFAULTS,t.data(),"object"==typeof e&&e);if(!i){if("destroy"==e)return!1;t.data("jqDuang",i=new s(this,n)),i.init()}"string"==typeof e?i[e]():"number"==typeof e&&i.play(i.loopNext=e),n=null})}var i,s=function(e,t){this.o=t,this.$element=$(e),this.$obj=this.$element.find(t.obj),this.$objExt=this.$element.find(t.objExt),this.$obj.length||(this.$obj=this.$objExt,delete this.$objExt),this.len=this.$obj.length,t.dire=0==t.effect.indexOf("left")&&"left"||"top",this.effect=t.effect.replace(t.dire,"")};s.DEFAULTS={obj:"li",cell:null,trigger:"mouseover",effect:"fade",speed:500,index:0,autoplay:1,interval:3e3,prevbtn:null,nextbtn:null,delay:150,easing:"swing",lazyload:1,visible:1,steps:1,overstop:1,showtit:0,pagewrap:null,btnLoop:1,wheel:0,actclass:"act"},s.prototype={init:function(){function e(e){var t=u.$element.find(h[e+"btn"]);return!h.btnLoop&&"prev"==e&&t.addClass("disabled"),t.on("Marqueue"==u.effect?h.trigger:"click",function(){$(this).hasClass("disabled")||(u.s="next"==e?-1:1,"Marqueue"==u.effect?u.next():u[e]())}).attr({unselectable:"on",onselectstart:"return false;"}),!0}var t,i,s,n,a,l,o,d,r,c,f,p,u=this,h=u.o,b={position:"relative",overflow:"hidden"};if(u.pages=!u.effect&&Math.ceil((u.len-h.visible)/h.steps)+1||Math.ceil(u.len/h.steps),u.index=h.index,n="top"==h.dire&&"height"||"width",t=u.$obj,i=t.parent(),s=i.parent(),!(u.pages<=1||u.len<=h.visible)){switch(h.speed||(u.effect="fade"),t.css({"float":"top"==h.dire?"none":"left"}),h.size=t["top"==h.dire?"outerHeight":"outerWidth"](!0),h.trigger=h.trigger.replace(".duang","")+".duang",u.effect){case"fade":t.css({display:"none"}).eq(h.index).show();break;case"fold":t.css({position:"absolute",display:"none",left:0,top:0}).eq(h.index).show(),b[n]=h.size,s.css(b);break;case"weibo":i.css("position","relative"),b[n]=h.size*h.visible,s.css(b);break;case"Marqueue":default:o={position:"relative",overflow:"hidden"},o[h.dire]=-h.size*h.index,o[n]=9999,u.effect&&(u.$obj=i.append(t.slice(0,h.visible).clone()).prepend(t.slice(u.len-h.visible).clone()).children(),o[h.dire]=-(h.visible+h.index*h.steps)*h.size,"Marqueue"==u.effect&&(u.s=-1,u.scrollSize=h.size*u.len)),i.css(o),d=t.eq(0),r=parseInt(d.css("margin-"+h.dire))-parseInt(d.css("margin-"+("left"==h.dire?"right":"bottom"))),b[n]=h.size*h.visible+r,s.css(b)}if(h.cell&&"Marqueue"!=u.effect){if(c=u.$element.find(h.cell),a=c.children(),a.length)a=a.slice(0,u.pages),i.data("cells",a.length);else{for(f=[],p=0;p<u.pages;p++)f.push("<i>"+(p+1)+"</i>");a=$(f.join("")).appendTo(u.$element.find(h.cell))}a.on(h.trigger,function(){return clearTimeout(l),u.loopNext=a.index(this),l=setTimeout(function(){u.play(u.loopNext)},h.delay),"click.duang"==h.trigger?!1:void 0}).eq(u.index).addClass(h.actclass),u.$cells=a}h.autoplay&&(u.start(),!!h.overstop&&u.$obj.add(a).add(h.prevbtn&&"Marqueue"!=u.effect&&h.prevbtn+","+h.nextbtn||null).on("mouseover",$.proxy(u.stop,u)).on("mouseout",$.proxy(u.start,u))),h.showtit&&1==h.visible&&s.after('<a class="tit-duang" target="_blank" href="'+t.eq(h.index).data("url")+'">'+t.eq(h.index).data("title")+"</a>"),h.pagewrap&&u.$element.find(h.pagewrap).html(1*u.index+1+"/"+u.pages),h.prevbtn&&e("prev")&&e("next"),u.$objExt.length>h.index&&u.$objExt.css("display","none").eq(h.index).show(),!!h.lazyload&&u.lazyload(t.slice(u.index,h.visible))}},lazyload:function(e){e.each(function(e,t){$(this).find('img:not(".loaded")').attr("src",function(){return $(this).addClass("loaded").data("src")})})},destroy:function(){var e=this,t=e.o,i=e.$obj,s=i.parent();e.stop(),e.$element.find(t.prevbtn+","+t.nextbtn).off("click mouseover"),s.parent().andSelf().add(i).removeAttr("style"),e.effect&&s.empty().html(e.$obj=i.slice(t.visible,-t.visible)),{fold:1,fade:1}[e.effect]&&i.hide().eq(t.index).show(),t.cell&&"Marqueue"!=e.effect&&(!s.data("cells")&&e.$element.find(t.cell).empty(),delete e.$cells),e.$element.trigger("destroy.duang")},start:function(){clearInterval(this.t1),this.t1=setInterval($.proxy(this.next,this),this.o.interval)},stop:function(){clearInterval(this.t1)},next:function(){this.play("Marqueue"!=this.effect&&(this.loopNext=this.index+1)%this.pages,1)},prev:function(){this.loopNext=this.index-1,this.play((this.loopNext+this.pages)%this.pages,1)},play:function(e,t){var i,s,n,a,l,o=this,d=o.o,r=o.$obj,c=r.parent(),f=o.loopNext,p={},u=d.size;if(o.index!=e||"Marqueue"==o.effect){switch(o.$element.trigger("before.duang"),o.effect){case"fade":!!d.lazyload&&o.lazyload(r.eq(e)),r.eq(o.index).hide(),r.eq(e).animate({opacity:"show"},d.speed,d.easing);break;case"fold":!!d.lazyload&&o.lazyload(r.eq(e)),r.stop(!0,!0).eq(o.index).animate({opacity:"hide"},d.speed,d.easing),r.eq(e).animate({opacity:"show"},d.speed,d.easing);break;case"Marqueue":c.css(d.dire,function(e,t){var i=parseInt(t)+o.s;return i<=-o.scrollSize?i=0:i>=0&&(i=-o.scrollSize),i});break;case"weibo":p[d.dire]=9*u/8,c.stop(!0,!0).animate(p,d.speed,d.easing,function(){var e=c.children()[r.length-1];e.style.display="none",c[0].insertBefore(e,c[0].children[0]),c[0].style.top=0,$(e).fadeIn()});break;default:i=0,s=o.len%d.steps,"Loop"==o.effect?(s&&f==o.pages?i=s-d.steps:s&&-1==f&&(i=d.steps-s),n=f*d.steps+d.visible+i,t&&c.css(d.dire,-u*(this.index*d.steps+d.visible))):(f==o.pages-1||-1==f)&&(i=o.len-e*d.steps-d.visible),a="Loop"==o.effect?n:e*d.steps+i,!!d.lazyload&&o.lazyload(r.slice(a,a+d.steps)),p[d.dire]=-u*a,c.stop(!0,!1).animate(p,d.speed,d.easing),p=null}d.showtit&&1==d.visible&&(l=r.eq(e+("Loop"==o.effect?1:0)).data(),o.$element.find(".tit-duang").html(l.title)[0].href=l.url),d.pagewrap&&o.$element.find(d.pagewrap).html(e+1+"/"+o.pages),d.cell&&o.$cells.removeClass(d.actclass).eq(e).addClass(d.actclass),o.$objExt.length>e&&o.$objExt.css("display","none").eq(e).show(),o.index=e,!d.btnLoop&&d.prevbtn&&(o.$element.find(d.prevbtn+","+d.nextbtn).removeClass("disabled"),0==e&&o.$element.find(d.prevbtn).addClass("disabled"),e==o.pages-1&&o.$element.find(d.nextbtn).addClass("disabled")),o.$element.trigger("after.duang",[e])}}},i=$.fn.jqDuang,$.fn.jqDuang=t,$.fn.jqDuang.Constructor=s,$.fn.jqDuang.noConflict=function(){return $.fn.jqDuang=i,this},$(e).on("load",function(){$('[data-duang="1"]').each(function(){var e=$(this);t.call(e,e.data())})})}(jQuery,window);
//# sourceMappingURL=/src/js/jqduang.js.map
